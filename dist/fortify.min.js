'use strict';var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var Fortify=function(){function a(b,c){_classCallCheck(this,a);this.field=b,this.options=Object.assign({feedback:!0,keyTimeout:150,progressBar:!0,callback:null},c),this.init()}return _createClass(a,[{key:'getPasswordScore',value:function getPasswordScore(a){if(!a)return{score:0,feedback:'nothing'};var b,c=0,d={};a.split('').forEach(function(a){d[a]=(d[a]||0)+1,c+=5/d[a]});var e={digits:/\d/.test(a),lower:/[a-z]/.test(a),upper:/[A-Z]/.test(a),nonWords:/\W/.test(a)},f=0;for(var g in e)f+=!0===e[g]?1:0;return c+=10*(f-1),b=0==c?'nothing':80<c?'strong':60<c&&80>=c?'good':30<c&&60>=c?'okay':'weak',{score:parseInt(c),feedback:b}}},{key:'init',value:function init(){function a(){d&&clearTimeout(d),d=setTimeout(function(){var a=e.getPasswordScore(e.field.value),b=a.score,d=a.feedback;e.options.feedback&&(c.className='fortify fortify-'+d,c.textContent=capitalize(d),e.options.progressBar&&(c.style.width=b+'%')),e.options.callback&&e.options.callback(b,d)},e.options.keyTimeout)}var b=document.createElement('div');b.className='fortify-bar';var c=document.createElement('div');c.className='fortify fortify-nothing',b.appendChild(c),this.field.parentNode.insertBefore(b,this.field.nextSibling);var d,e=this;this.field.addEventListener('keypress',a),this.field.addEventListener('keyup',a),this.field.addEventListener('keydown',a)}}]),a}();function capitalize(a){return a.charAt(0).toUpperCase()+a.slice(1)}