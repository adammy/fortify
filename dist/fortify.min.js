!function(a,b){"use strict";a.fn.fortify=function(c){function d(a){var b=0;if(!a)return b;for(var c={},d=0;d<a.length;d++)c[a[d]]=(c[a[d]]||0)+1,b+=5/c[a[d]];var e={digits:/\d/.test(a),lower:/[a-z]/.test(a),upper:/[A-Z]/.test(a),nonWords:/\W/.test(a)},f=0;for(var g in e)f+=!0===e[g]?1:0;return b+=10*(f-1),parseInt(b)}function e(a){return 0===a?"nothing":a>80?"strong":a>60?"good":a>30?"okay":"weak"}var f,g=a.extend({debug:!1,feedback:!0,keyTimeout:150,progressBar:!0,callback:b},c),h=this;String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},h.after('<div class="fortify-bar"><div class="fortify fortify-nothing"></div></div>'),h.on("keypress keyup keydown",function(){f&&clearTimeout(f),f=setTimeout(function(){var b=d(h.val()),c=e(b);g.feedback&&(a(".fortify").removeClass(function(a,b){return(b.match(/(^|\s)fortify-\S+/g)||[]).join(" ")}).addClass("fortify-"+c).text(c.capitalize()),g.progressBar&&a(".fortify").css("width",b+"%")),g.debug&&console.log(c+" : Score is "+b),g.callback&&g.callback(b,c)},g.keyTimeout)})}}(jQuery);